import { countries } from 'countries-list'

function daysIntoYear(date: Date) {
    return (
        (Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()) -
            Date.UTC(date.getFullYear(), 0, 0)) /
        24 /
        60 /
        60 /
        1000
    )
}

const forcedCountries2022: Record<number, keyof typeof countries> = {
    267: 'CR',
    268: 'HK',
    269: 'BS',
    270: 'XK',
    271: 'SN',
    272: 'ML',
    273: 'GI',
    274: 'LR',
    275: 'SL',
    276: 'PF',
    277: 'SB',
    278: 'UY',
    279: 'FI',
    280: 'BZ',
    281: 'TR',
    282: 'UA',
    283: 'IR',
    284: 'SJ',
    285: 'MH',
    286: 'ZW',
    287: 'VE',
    288: 'PN',
    289: 'MP',
    290: 'NL',
    291: 'SZ',
    292: 'CM',
    293: 'MN',
    294: 'MQ',
    295: 'BL',
    296: 'GG',
    297: 'BM',
    298: 'MD',
    299: 'IT',
    300: 'PE',
    301: 'EH',
    302: 'GP',
    303: 'SD',
    304: 'AD',
    305: 'IQ',
    306: 'GT',
    307: 'CF',
    308: 'SV',
    309: 'EC',
    310: 'VA',
    311: 'AU',
    312: 'EE',
    313: 'DJ',
    314: 'BD',
    315: 'BY',
    316: 'SY',
    317: 'IO',
    318: 'LA',
    319: 'DZ',
    320: 'AF',
    321: 'CK',
    322: 'CX',
    323: 'HN',
    324: 'CY',
    325: 'TD',
    326: 'TT',
    327: 'NI',
    328: 'RU',
    329: 'LS',
    330: 'CZ',
    331: 'MX',
    332: 'TW',
    333: 'BG',
    334: 'CC',
    335: 'ZA',
    336: 'QA',
    337: 'NE',
    338: 'HR',
    339: 'TZ',
    340: 'BH',
    341: 'TM',
    342: 'TH',
    343: 'CU',
    344: 'MO',
    345: 'KH',
    346: 'PY',
    347: 'KI',
    348: 'NZ',
    349: 'BA',
    350: 'TK',
    351: 'JO',
    352: 'CO',
    353: 'HU',
    354: 'MT',
    355: 'WF',
    356: 'VN',
    357: 'GA',
    358: 'AR',
    359: 'OM',
    360: 'MW',
    361: 'DK',
    362: 'NF',
    363: 'AX',
    364: 'PH',
    365: 'TL',
} as const

export function getTodaysCountry() {
    return countries[forcedCountries2022[daysIntoYear(new Date())]]
}
